<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We"
      crossorigin="anonymous"
    />

    <!-- 요기에 구글 머티리얼 아이콘 -->
    <link
      href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


  </head>
  <body>
    {%load static %}{% static "" as baseUrl %}
    {% comment %} opacity:0.5 내비바 투명도 {% endcomment %}
    <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top " style="width: 100%; position: fixed;">

      {% comment %} 상단 고정 sticky-top {% endcomment %}
      <div class="container " >
        <div style="display:flex; flex-direction:rows; justify-content: space-between;">
        <img style="height: 50px; object-fit: contain" src="{{baseUrl}}images/logo.png" />
        <div>

          <form class="form-inline">
            <input size="20" style= "height:30px;"class="form-control" type="text" placeholder="Search Id" id="id_name" onkeyup="if(window.event.keyCode==13){getValueInput()}"/>
            <button class="searchbutton" type="button" onclick="getValueInput()"><span class="material-icons-outlined">
              search
              </span></button>
          </form>
        </div>

        <div>
          <ul class="navbar-nav ml-auto">
            <div class="container-fluid">
              <div>
                <!-- Javascript가 필요없이 data-toggle에 collapse href에 대상 id을 설정합니다. -->
                <a data-toggle="collapse" href="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                <span class="material-icons-outlined">calendar_month</span>
                </a>
              </div>
              <!-- collapse 대상 태그는 class를 collapse로 설정합니다. -->
              <div class="collapse" id="collapseExample">
                <form method="GET" action="{% url 'dailyphoto:search' %}">
                  <div id="search" style="margin-left:100px;">
                    <input name="search" type="date"  />
                    <button class="btn btn-basic " style="margin-bottom:10px;"type="submit">검색</button>
                  </div>
                </form>
              </div>
            </div>
            <a class="nav-link" href="{% url 'common:logout' %}"><span class="material-icons-outlined">logout</span></a>
            <a class="nav-link" href="{% url 'dailyphoto:index' %}"><span class="material-icons">home</span></a>
            <a class="nav-link" href="{% url 'dailyphoto:post_create' %}"><span class="material-icons-outlined">add_box</span></a>
            <a class="nav-link" href="/dailyphoto/profile/{{user.username}}">
              {% if user.profile.image %}
            <img src="/media/{{user.profile.image}}" class="avata-sm rounded-circle"/></a>
              {% else %}
            <img src="/static/images/DefualtProfile.jpg" class="avata-sm rounded-circle"/></a>
            {% endif %}
            </ul>
          </div>
        </div>
        </div>
    </nav>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
      crossorigin="anonymous"
    ></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-eMNCOe7tC1doHpGoWe/6oMVemdAVTMs2xqW4mwXrXsW0L84Iytr2wi5v2QjrP/xp" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js" integrity="sha384-cn7l7gDp0eyniUwwAZgrzD06kc/tftFf19TOAs2zVinnD/C7E91j9yyk5//jjpt/" crossorigin="anonymous"></script>
-->
  <script>

    const getValueInput = () =>{
      let inputValue = document.getElementById("id_name").value; 
      if (inputValue!==''){
      var link = 'http://127.0.0.1:8000/dailyphoto/profile/'+inputValue;
      location.href = link;
    }
    else{
      alert('검색할 아이디를 사용해주세요')
    }
  }

    
  </script>
  </body>
</html>
