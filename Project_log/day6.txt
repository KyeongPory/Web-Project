6일차(22.02.15)

To do list

  김경희: 디테일 페이지 작업, 디테일 페이지 닫기 버튼, 서치 기능

  김규배: 메인피드 css, 댓글 삭제 기능, 메인 피드 포스트 내 글과 팔로우한 사람의 글만 뜨게 하기 

  전도일: 팔로잉 기능

  정희정: like 기능, 글 수정 기능


  
활동내용:

  모두가 함께:

    상세 페이지에 감정 아이콘이 출력되지 않는 오류 



  각자 한 것:

   김경희 : 디테일 페이지 작업, 디테일 페이지 닫기 버튼, 서치 기능

   김규배 : 메인피드 css, 댓글 삭제 기능, 메인 피드 포스트 내 글과 팔로우한 사람의 글만 뜨게 하기 

   전도일 : 팔로잉 기능이 추가된 모델로 유저 모델 재설정

   정희정 : like 이미지 추가. like 모델 추가. ajax로 프론트단 체크박스와 백엔드의 views.like views.unlike 함수 연결. 장고템플릿 이용해서 post_list.html에서 좋아요 했는지 안했는지에 따라 html이 다르게 뜨게 함. 


문제점:

  1. 다대다 필드?로 연결된 팔로우 모델 사용 문제 
  
  2. 상세페이지에 감정 아이콘이 등록되지 않는 문제

  3. 에러 : The QuerySet value for an exact lookup must be limited to one result using slicing. 

  4. 댓글삭제 버튼이 정렬되지 않음

  5. 


해결방안 :

  1. 

  2. 상세페이지에 자바스크립트 파일이 포함되지 않았음

  3. 여러개가 들어있는 쿼리셋을 하나가 필요한 구문에 우겨넣었기 때문에 뜬 오류. for문으로 쪼개 넣었더니 작동함.

  4.



알게 된 것:

  1. ajax도 서버단 함수 호출에 url을 사용한다 

  2. AJAX 요청에 CSRF 토큰 담아서 보내기 (https://nachwon.github.io/how-to-send-csrf-token-ajax/)

  3. 하나만 들어있는 쿼리셋 안에서 오브젝트 꺼내오기 = .first() 함수

  4. 쿼리셋을 합치는데는 union()과 chain()기능이 있다. union()은 결과가 쿼리셋 타입, chain()은 결과가 리스트 타입